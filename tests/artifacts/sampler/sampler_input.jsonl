{"added":"2023-09-08T23:13:54.504Z","created":"2023-09-08T23:13:54.504Z","id":"0","metadata":{"extension":"ada","max_stars_count":"0","max_stars_repo_name":"luk9400/nsi","max_stars_repo_path":"list3/task3/c/src/bubble.adb","provenance":"train-00000-of-00001.jsonl.gz:1"},"source":"starcoder","text":"<reponame>luk9400/nsi<gh_stars>0\npackage body Bubble with SPARK_Mode is\n  \n  procedure Sort (A : in out Arr) is\n    Tmp : Integer;\n  begin\n    Outer: for I in reverse A'First .. A'Last - 1 loop\n      Inner: for J in A'First .. I loop\n        if A(J) > A(J + 1) then\n          Tmp := A(J);\n          A(J) := A(J + 1);\n          A(J + 1) := Tmp;\n        end if;\n        \n        pragma Loop_Invariant (for all K1 in A'Range => (for some K2 in A'Range => A(K2) = A'Loop_Entry(Inner)(K1)));\n        \n      end loop Inner;\n      \n      pragma Loop_Invariant (for all K1 in A'Range => (for some K2 in A'Range => A(K2) = A'Loop_Entry(Outer)(K1)));\n      \n    end loop Outer;\n  end Sort;  \n\nend Bubble;\n"}
{"added":"2023-09-08T23:13:54.504Z","created":"2023-09-08T23:13:54.504Z","id":"1","metadata":{"extension":"ada","max_stars_count":"192","max_stars_repo_name":"rocher/Ada_Drivers_Library","max_stars_repo_path":"components/src/screen/ST7735R/st7735r.adb","provenance":"train-00000-of-00001.jsonl.gz:2"},"source":"starcoder","text":"<filename>components/src/screen/ST7735R/st7735r.adb\n------------------------------------------------------------------------------\n--                                                                          --\n--                     Copyright (C) 2015-2016, AdaCore                     --\n--                                                                          --\n--  Redistribution and use in source and binary forms, with or without      --\n--  modification, are permitted provided that the following conditions are  --\n--  met:                                                                    --\n--     1. Redistributions of source code must retain the above copyright    --\n--        notice, this list of conditions and the following disclaimer.     --\n--     2. Redistributions in binary form must reproduce the above copyright --\n--        notice, this list of conditions and the following disclaimer in   --\n--        the documentation and/or other materials provided with the        --\n--        distribution.                                                     --\n--     3. Neither the name of the copyright holder nor the names of its     --\n--        contributors may be used to endorse or promote products derived   --\n--        from this software without specific prior written permission.     --\n--                                                                          --\n--   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS    --\n--   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT      --\n--   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR  --\n--   A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   --\n--   HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, --\n--   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT       --\n--   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,  --\n--   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY  --\n--   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT    --\n--   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE  --\n--   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.   --\n--                                                                          --\n------------------------------------------------------------------------------\n\nwith Ada.Unchecked_Conversion;\n\npackage body ST7735R is\n\n   ---------------------------\n   --  Register definitions --\n   ---------------------------\n\n   type MADCTL is record\n      Reserved1, Reserved2 : Boolean;\n      MH  : Horizontal_Refresh_Order;\n      RGB : RGB_BGR_Order;\n      ML  : Vertical_Refresh_Order;\n      MV  : Boolean;\n      MX  : Column_Address_Order;\n      MY  : Row_Address_Order;\n   end record with Size => 8, Bit_Order => System.Low_Order_First;\n\n   for MADCTL use record\n      Reserved1 at 0 range 0 .. 0;\n      Reserved2 at 0 range 1 .. 1;\n      MH        at 0 range 2 .. 2;\n      RGB       at 0 range 3 .. 3;\n      ML        at 0 range 4 .. 4;\n      MV        at 0 range 5 .. 5;\n      MX        at 0 range 6 .. 6;\n      MY        at 0 range 7 .. 7;\n   end record;\n\n   function To_UInt8 is new Ada.Unchecked_Conversion (MADCTL, UInt8);\n\n   procedure Write_Command (LCD : ST7735R_Screen'Class;\n                            Cmd : UInt8);\n   procedure Write_Command (LCD  : ST7735R_Screen'Class;\n                            Cmd  : UInt8;\n                            Data : HAL.UInt8_Array);\n\n   procedure Write_Pix_Repeat (LCD   : ST7735R_Screen'Class;\n                               Data  : UInt16;\n                               Count : Natural);\n   --  Send the same pixel data Count times. This is used to fill an area with\n   --  the same color without allocating a buffer.\n\n   procedure Write_Data (LCD  : ST7735R_Screen'Class;\n                         Data : HAL.UInt8_Array);\n\n   procedure Read_Data (LCD  : ST7735R_Screen'Class;\n                        Data : out UInt16);\n\n   procedure Set_Command_Mode (LCD : ST7735R_Screen'Class);\n   procedure Set_Data_Mode (LCD : ST7735R_Screen'Class);\n   procedure Start_Transaction (LCD : ST7735R_Screen'Class);\n   procedure End_Transaction (LCD : ST7735R_Screen'Class);\n\n   ----------------------\n   -- Set_Command_Mode --\n   ----------------------\n\n   procedure Set_Command_Mode (LCD : ST7735R_Screen'Class) is\n   begin\n      LCD.RS.Clear;\n   end Set_Command_Mode;\n\n   -------------------\n   -- Set_Data_Mode --\n   -------------------\n\n   procedure Set_Data_Mode (LCD : ST7735R_Screen'Class) is\n   begin\n      LCD.RS.Set;\n   end Set_Data_Mode;\n\n   -----------------------\n   -- Start_Transaction --\n   -----------------------\n\n   procedure Start_Transaction (LCD : ST7735R_Screen'Class) is\n   begin\n      LCD.CS.Clear;\n   end Start_Transaction;\n\n   ---------------------\n   -- End_Transaction --\n   ---------------------\n\n   procedure End_Transaction (LCD : ST7735R_Screen'Class) is\n   begin\n      LCD.CS.Set;\n   end End_Transaction;\n\n   -------------------\n   -- Write_Command --\n   -------------------\n\n   procedure Write_Command (LCD : ST7735R_Screen'Class;\n                            Cmd : UInt8)\n   is\n      Status : SPI_Status;\n   begin\n      Start_Transaction (LCD);\n      Set_Command_Mode (LCD);\n      LCD.Port.Transmit (SPI_Data_8b'(1 => Cmd),\n                         Status);\n      End_Transaction (LCD);\n      if Status /= Ok then\n         --  No error handling...\n         raise Program_Error;\n      end if;\n   end Write_Command;\n\n   -------------------\n   -- Write_Command --\n   -------------------\n\n   procedure Write_Command (LCD  : ST7735R_Screen'Class;\n                            Cmd  : UInt8;\n                            Data : HAL.UInt8_Array)\n   is\n   begin\n      Write_Command (LCD, Cmd);\n      Write_Data (LCD, Data);\n   end Write_Command;\n\n   ----------------\n   -- Write_Data --\n   ----------------\n\n   procedure Write_Data (LCD  : ST7735R_Screen'Class;\n                         Data : HAL.UInt8_Array)\n   is\n      Status : SPI_Status;\n   begin\n      Start_Transaction (LCD);\n      Set_Data_Mode (LCD);\n      LCD.Port.Transmit (SPI_Data_8b (Data), Status);\n      if Status /= Ok then\n         --  No error handling...\n         raise Program_Error;\n      end if;\n      End_Transaction (LCD);\n   end Write_Data;\n\n   ----------------------\n   -- Write_Pix_Repeat --\n   ----------------------\n\n   procedure Write_Pix_Repeat (LCD   : ST7735R_Screen'Class;\n                               Data  : UInt16;\n                               Count : Natural)\n   is\n      Status : SPI_Status;\n      Data8  : constant SPI_Data_8b :=\n        SPI_Data_8b'(1 => UInt8 (Shift_Right (Data, 8) and 16#FF#),\n                     2 => UInt8 (Data and 16#FF#));\n   begin\n      Write_Command (LCD, 16#2C#);\n      Start_Transaction (LCD);\n      Set_Data_Mode (LCD);\n      for X in 1 .. Count loop\n         LCD.Port.Transmit (Data8, Status);\n         if Status /= Ok then\n            --  No error handling...\n            raise Program_Error;\n         end if;\n      end loop;\n\n      End_Transaction (LCD);\n   end Write_Pix_Repeat;\n\n   ---------------\n   -- Read_Data --\n   ---------------\n\n   procedure Read_Data (LCD  : ST7735R_Screen'Class;\n                        Data : out UInt16)\n   is\n      SPI_Data : SPI_Data_16b (1 .. 1);\n      Status : SPI_Status;\n   begin\n      Start_Transaction (LCD);\n      Set_Data_Mode (LCD);\n      LCD.Port.Receive (SPI_Data, Status);\n      if Status /= Ok then\n         --  No error handling...\n         raise Program_Error;\n      end if;\n      End_Transaction (LCD);\n\n      Data := SPI_Data (SPI_Data'First);\n\n   end Read_Data;\n\n   ----------------\n   -- Initialize --\n   ----------------\n\n   procedure Initialize (LCD : in out ST7735R_Screen) is\n   begin\n      LCD.Layer.LCD := LCD'Unchecked_Access;\n\n      LCD.RST.Clear;\n      LCD.Time.Delay_Milliseconds (100);\n      LCD.RST.Set;\n      LCD.Time.Delay_Milliseconds (100);\n\n      --  Sleep Exit\n      Write_Command (LCD, 16#11#);\n\n      LCD.Time.Delay_Milliseconds (100);\n\n      LCD.Initialized := True;\n   end Initialize;\n\n   -----------------\n   -- Initialized --\n   -----------------\n\n   overriding\n   function Initialized (LCD : ST7735R_Screen) return Boolean is\n     (LCD.Initialized);\n\n   -------------\n   -- Turn_On --\n   -------------\n\n   procedure Turn_On (LCD : ST7735R_Screen) is\n   begin\n      Write_Command (LCD, 16#29#);\n   end Turn_On;\n\n   --------------\n   -- Turn_Off --\n   --------------\n\n   procedure Turn_Off (LCD : ST7735R_Screen) is\n   begin\n      Write_Command (LCD, 16#28#);\n   end Turn_Off;\n\n\n   --------------------------\n   -- Display_Inversion_On --\n   --------------------------\n\n   procedure Display_Inversion_On (LCD : ST7735R_Screen) is\n   begin\n      Write_Command (LCD, 16#21#);\n   end Display_Inversion_On;\n\n\n   ---------------------------\n   -- Display_Inversion_Off --\n   ---------------------------\n\n   procedure Display_Inversion_Off (LCD : ST7735R_Screen) is\n   begin\n      Write_Command (LCD, 16#20#);\n   end Display_Inversion_Off;\n\n   ---------------\n   -- Gamma_Set --\n   ---------------\n\n   procedure Gamma_Set (LCD : ST7735R_Screen; Gamma_Curve : UInt4) is\n   begin\n      Write_Command (LCD, 16#26#, (0 => UInt8 (Gamma_Curve)));\n   end Gamma_Set;\n\n   ----------------------\n   -- Set_Pixel_Format --\n   ----------------------\n\n   procedure Set_Pixel_Format (LCD : ST7735R_Screen; Pix_Fmt : Pixel_Format) is\n      Value : constant UInt8 := (case Pix_Fmt is\n                                   when Pixel_12bits => 2#011#,\n                                   when Pixel_16bits => 2#101#,\n                                   when Pixel_18bits => 2#110#);\n   begin\n      Write_Command (LCD, 16#3A#, (0 => Value));\n   end Set_Pixel_Format;\n\n   ----------------------------\n   -- Set_Memory_Data_Access --\n   ----------------------------\n\n   procedure Set_Memory_Data_Access\n     (LCD                 : ST7735R_Screen;\n      Color_Order         : RGB_BGR_Order;\n      Vertical            : Vertical_Refresh_Order;\n      Horizontal          : Horizontal_Refresh_Order;\n      Row_Addr_Order      : Row_Address_Order;\n      Column_Addr_Order   : Column_Address_Order;\n      Row_Column_Exchange : Boolean)\n   is\n\n      Value : MADCTL;\n   begin\n      Value.MY := Row_Addr_Order;\n      Value.MX := Column_Addr_Order;\n      Value.MV := Row_Column_Exchange;\n      Value.ML := Vertical;\n      Value.RGB := Color_Order;\n      Value.MH := Horizontal;\n      Write_Command (LCD, 16#36#, (0 => To_UInt8 (Value)));\n   end Set_Memory_Data_Access;\n\n   ---------------------------\n   -- Set_Frame_Rate_Normal --\n   ---------------------------\n\n   procedure Set_Frame_Rate_Normal\n     (LCD         : ST7735R_Screen;\n      RTN         : UInt4;\n      Front_Porch : UInt6;\n      Back_Porch  : UInt6)\n   is\n   begin\n      Write_Command (LCD, 16#B1#,\n                     (UInt8 (RTN), UInt8 (Front_Porch), UInt8 (Back_Porch)));\n   end Set_Frame_Rate_Normal;\n\n   -------------------------\n   -- Set_Frame_Rate_Idle --\n   -------------------------\n\n   procedure Set_Frame_Rate_Idle\n     (LCD         : ST7735R_Screen;\n      RTN         : UInt4;\n      Front_Porch : UInt6;\n      Back_Porch  : UInt6)\n   is\n   begin\n      Write_Command (LCD, 16#B2#,\n                     (UInt8 (RTN), UInt8 (Front_Porch), UInt8 (Back_Porch)));\n   end Set_Frame_Rate_Idle;\n\n   ---------------------------------\n   -- Set_Frame_Rate_Partial_Full --\n   ---------------------------------\n\n   procedure Set_Frame_Rate_Partial_Full\n     (LCD              : ST7735R_Screen;\n      RTN_Part         : UInt4;\n      Front_Porch_Part : UInt6;\n      Back_Porch_Part  : UInt6;\n      RTN_Full         : UInt4;\n      Front_Porch_Full : UInt6;\n      Back_Porch_Full  : UInt6)\n   is\n   begin\n      Write_Command (LCD, 16#B3#,\n                     (UInt8 (RTN_Part),\n                      UInt8 (Front_Porch_Part),\n                      UInt8 (Back_Porch_Part),\n                      UInt8 (RTN_Full),\n                      UInt8 (Front_Porch_Full),\n                      UInt8 (Back_Porch_Full)));\n   end Set_Frame_Rate_Partial_Full;\n\n   ---------------------------\n   -- Set_Inversion_Control --\n   ---------------------------\n\n   procedure Set_Inversion_Control\n     (LCD : ST7735R_Screen;\n      Normal, Idle, Full_Partial : Inversion_Control)\n   is\n      Value : UInt8 := 0;\n   begin\n      if Normal = Line_Inversion then\n         Value := Value or 2#100#;\n      end if;\n      if Idle = Line_Inversion then\n         Value := Value or 2#010#;\n      end if;\n      if Full_Partial = Line_Inversion then\n         Value := Value or 2#001#;\n      end if;\n      Write_Command (LCD, 16#B4#, (0 => Value));\n   end Set_Inversion_Control;\n\n   -------------------------\n   -- Set_Power_Control_1 --\n   -------------------------\n\n   procedure Set_Power_Control_1\n     (LCD  : ST7735R_Screen;\n      AVDD : UInt3;\n      VRHP : UInt5;\n      VRHN : UInt5;\n      MODE : UInt2)\n   is\n      P1, P2, P3 : UInt8;\n   begin\n      P1 := Shift_Left (UInt8 (AVDD), 5) or UInt8 (VRHP);\n      P2 := UInt8 (VRHN);\n      P3 := Shift_Left (UInt8 (MODE), 6) or 2#00_0100#;\n      Write_Command (LCD, 16#C0#, (P1, P2, P3));\n   end Set_Power_Control_1;\n\n   -------------------------\n   -- Set_Power_Control_2 --\n   -------------------------\n\n   procedure Set_Power_Control_2\n     (LCD   : ST7735R_Screen;\n      VGH25 : UInt2;\n      VGSEL : UInt2;\n      VGHBT : UInt2)\n   is\n      P1 : UInt8;\n   begin\n      P1 := Shift_Left (UInt8 (VGH25), 6) or\n        Shift_Left (UInt8 (VGSEL), 2) or\n        UInt8 (VGHBT);\n      Write_Command (LCD, 16#C1#, (0 => P1));\n   end Set_Power_Control_2;\n\n   -------------------------\n   -- Set_Power_Control_3 --\n   -------------------------\n\n   procedure Set_Power_Control_3\n     (LCD : ST7735R_Screen;\n      P1, P2 : UInt8)\n   is\n   begin\n      Write_Command (LCD, 16#C2#, (P1, P2));\n   end Set_Power_Control_3;\n\n   -------------------------\n   -- Set_Power_Control_4 --\n   -------------------------\n\n   procedure Set_Power_Control_4\n     (LCD : ST7735R_Screen;\n      P1, P2 : UInt8)\n   is\n   begin\n      Write_Command (LCD, 16#C3#, (P1, P2));\n   end Set_Power_Control_4;\n\n   -------------------------\n   -- Set_Power_Control_5 --\n   -------------------------\n\n   procedure Set_Power_Control_5\n     (LCD : ST7735R_Screen;\n      P1, P2 : UInt8)\n   is\n   begin\n      Write_Command (LCD, 16#C4#, (P1, P2));\n   end Set_Power_Control_5;\n\n   --------------\n   -- Set_Vcom --\n   --------------\n\n   procedure Set_Vcom (LCD : ST7735R_Screen; VCOMS : UInt6) is\n   begin\n      Write_Command (LCD, 16#C5#, (0 => UInt8 (VCOMS)));\n   end Set_Vcom;\n\n   ------------------------\n   -- Set_Column_Address --\n   ------------------------\n\n   procedure Set_Column_Address (LCD : ST7735R_Screen; X_Start, X_End : UInt16)\n   is\n      P1, P2, P3, P4 : UInt8;\n   begin\n      P1 := UInt8 (Shift_Right (X_Start and 16#FF#, 8));\n      P2 := UInt8 (X_Start and 16#FF#);\n      P3 := UInt8 (Shift_Right (X_End and 16#FF#, 8));\n      P4 := UInt8 (X_End and 16#FF#);\n      Write_Command (LCD, 16#2A#, (P1, P2, P3, P4));\n   end Set_Column_Address;\n\n   ---------------------\n   -- Set_Row_Address --\n   ---------------------\n\n   procedure Set_Row_Address (LCD : ST7735R_Screen; Y_Start, Y_End : UInt16)\n   is\n      P1, P2, P3, P4 : UInt8;\n   begin\n      P1 := UInt8 (Shift_Right (Y_Start and 16#FF#, 8));\n      P2 := UInt8 (Y_Start and 16#FF#);\n      P3 := UInt8 (Shift_Right (Y_End and 16#FF#, 8));\n      P4 := UInt8 (Y_End and 16#FF#);\n      Write_Command (LCD, 16#2B#, (P1, P2, P3, P4));\n   end Set_Row_Address;\n\n   -----------------\n   -- Set_Address --\n   -----------------\n\n   procedure Set_Address (LCD : ST7735R_Screen;\n                          X_Start, X_End, Y_Start, Y_End : UInt16)\n   is\n   begin\n      Set_Column_Address (LCD, X_Start, X_End);\n      Set_Row_Address (LCD, Y_Start, Y_End);\n   end Set_Address;\n\n   ---------------\n   -- Set_Pixel --\n   ---------------\n\n   procedure Set_Pixel (LCD   : ST7735R_Screen;\n                        X, Y  : UInt16;\n                        Color : UInt16)\n   is\n      Data : HAL.UInt16_Array (1 .. 1) := (1 => Color);\n   begin\n      Set_Address (LCD, X, X + 1, Y, Y + 1);\n      Write_Raw_Pixels (LCD, Data);\n   end Set_Pixel;\n\n   -----------\n   -- Pixel --\n   -----------\n\n   function Pixel (LCD   : ST7735R_Screen;\n                    X, Y  : UInt16)\n                    return UInt16\n   is\n      Ret : UInt16;\n   begin\n      Set_Address (LCD, X, X + 1, Y, Y + 1);\n      Read_Data (LCD, Ret);\n      return Ret;\n   end Pixel;\n\n   ----------------------\n   -- Write_Raw_Pixels --\n   ----------------------\n\n   procedure Write_Raw_Pixels (LCD  : ST7735R_Screen;\n                               Data : in out HAL.UInt8_Array)\n   is\n      Index : Natural := Data'First + 1;\n      Tmp   : UInt8;\n   begin\n      --  The ST7735R uses a different endianness than our bitmaps\n      while Index <= Data'Last loop\n         Tmp := Data (Index);\n         Data (Index) := Data (Index - 1);\n         Data (Index - 1) := Tmp;\n         Index := Index + 1;\n      end loop;\n\n      Write_Command (LCD, 16#2C#);\n      Write_Data (LCD, Data);\n   end Write_Raw_Pixels;\n\n   ----------------------\n   -- Write_Raw_Pixels --\n   ----------------------\n\n   procedure Write_Raw_Pixels (LCD  : ST7735R_Screen;\n                               Data : in out HAL.UInt16_Array)\n   is\n      Data_8b : HAL.UInt8_Array (1 .. Data'Length * 2)\n        with Address => Data'Address;\n   begin\n      Write_Raw_Pixels (LCD, Data_8b);\n   end Write_Raw_Pixels;\n\n   --------------------\n   -- Get_Max_Layers --\n   --------------------\n\n   overriding\n   function Max_Layers\n     (Display : ST7735R_Screen) return Positive is (1);\n\n   ------------------\n   -- Is_Supported --\n   ------------------\n\n   overriding\n   function Supported\n     (Display : ST7735R_Screen;\n      Mode    : FB_Color_Mode) return Boolean is\n     (Mode = HAL.Bitmap.RGB_565);\n\n   ---------------------\n   -- Set_Orientation --\n   ---------------------\n\n   overriding\n   procedure Set_Orientation\n     (Display     : in out ST7735R_Screen;\n      Orientation : Display_Orientation)\n   is\n   begin\n      null;\n   end Set_Orientation;\n\n   --------------\n   -- Set_Mode --\n   --------------\n\n   overriding\n   procedure Set_Mode\n     (Display : in out ST7735R_Screen;\n      Mode    : Wait_Mode)\n   is\n   begin\n      null;\n   end Set_Mode;\n\n   ---------------\n   -- Get_Width --\n   ---------------\n\n   overriding\n   function Width\n     (Display : ST7735R_Screen) return Positive is (Screen_Width);\n\n   ----------------\n   -- Get_Height --\n   ----------------\n\n   overriding\n   function Height\n     (Display : ST7735R_Screen) return Positive is (Screen_Height);\n\n   ----------------\n   -- Is_Swapped --\n   ----------------\n\n   overriding\n   function Swapped\n     (Display : ST7735R_Screen) return Boolean is (False);\n\n   --------------------\n   -- Set_Background --\n   --------------------\n\n   overriding\n   procedure Set_Background\n     (Display : ST7735R_Screen; R, G, B : UInt8)\n   is\n   begin\n      --  Does it make sense when there's no alpha channel...\n      raise Program_Error;\n   end Set_Background;\n\n   ----------------------\n   -- Initialize_Layer --\n   ----------------------\n\n   overriding\n   procedure Initialize_Layer\n     (Display : in out ST7735R_Screen;\n      Layer   : Positive;\n      Mode    : FB_Color_Mode;\n      X       : Natural := 0;\n      Y       : Natural := 0;\n      Width   : Positive := Positive'Last;\n      Height  : Positive := Positive'Last)\n   is\n      pragma Unreferenced (X, Y);\n   begin\n      if Layer /= 1 or else Mode /= RGB_565 then\n         raise Program_Error;\n      end if;\n      Display.Layer.Width := Width;\n      Display.Layer.Height := Height;\n   end Initialize_Layer;\n\n   -----------------\n   -- Initialized --\n   -----------------\n\n   overriding\n   function Initialized\n     (Display : ST7735R_Screen;\n      Layer   : Positive) return Boolean\n   is\n      pragma Unreferenced (Display);\n   begin\n      return Layer = 1;\n   end Initialized;\n\n   ------------------\n   -- Update_Layer --\n   ------------------\n\n   overriding\n   procedure Update_Layer\n     (Display   : in out ST7735R_Screen;\n      Layer     : Positive;\n      Copy_Back : Boolean := False)\n   is\n      pragma Unreferenced (Copy_Back, Display);\n   begin\n      if Layer /= 1 then\n         raise Program_Error;\n      end if;\n   end Update_Layer;\n\n   -------------------\n   -- Update_Layers --\n   -------------------\n\n   overriding\n   procedure Update_Layers\n     (Display : in out ST7735R_Screen)\n   is\n   begin\n      Display.Update_Layer (1);\n   end  Update_Layers;\n\n   --------------------\n   -- Get_Color_Mode --\n   --------------------\n\n   overriding\n   function Color_Mode\n     (Display : ST7735R_Screen;\n      Layer   : Positive) return FB_Color_Mode\n   is\n      pragma Unreferenced (Display);\n   begin\n      if Layer /= 1 then\n         raise Program_Error;\n      end if;\n      return RGB_565;\n   end Color_Mode;\n\n   -----------------------\n   -- Get_Hidden_Buffer --\n   -----------------------\n\n   overriding\n   function Hidden_Buffer\n     (Display : in out ST7735R_Screen;\n      Layer   : Positive) return not null HAL.Bitmap.Any_Bitmap_Buffer\n   is\n   begin\n      if Layer /= 1 then\n         raise Program_Error;\n      end if;\n      return Display.Layer'Unchecked_Access;\n   end Hidden_Buffer;\n\n   ----------------\n   -- Pixel_Size --\n   ----------------\n\n   overriding\n   function Pixel_Size\n     (Display : ST7735R_Screen;\n      Layer   : Positive) return Positive is (16);\n\n   ----------------\n   -- Set_Source --\n   ----------------\n\n   overriding\n   procedure Set_Source (Buffer : in out ST7735R_Bitmap_Buffer;\n                         Native : UInt32)\n   is\n   begin\n      Buffer.Native_Source := Native;\n   end Set_Source;\n\n   ------------\n   -- Source --\n   ------------\n\n   overriding\n   function Source\n     (Buffer : ST7735R_Bitmap_Buffer)\n      return UInt32\n   is\n   begin\n      return Buffer.Native_Source;\n   end Source;\n\n\n   ---------------\n   -- Set_Pixel --\n   ---------------\n\n   overriding\n   procedure Set_Pixel\n     (Buffer  : in out ST7735R_Bitmap_Buffer;\n      Pt      : Point)\n   is\n   begin\n      Buffer.LCD.Set_Pixel (UInt16 (Pt.X), UInt16 (Pt.Y),\n                            UInt16 (Buffer.Native_Source));\n   end Set_Pixel;\n\n   ---------------------\n   -- Set_Pixel_Blend --\n   ---------------------\n\n   overriding\n   procedure Set_Pixel_Blend\n     (Buffer : in out ST7735R_Bitmap_Buffer;\n      Pt     : Point) renames Set_Pixel;\n\n   -----------\n   -- Pixel --\n   -----------\n\n   overriding\n   function Pixel\n     (Buffer : ST7735R_Bitmap_Buffer;\n      Pt     : Point)\n      return UInt32\n   is (UInt32 (Buffer.LCD.Pixel (UInt16 (Pt.X), UInt16 (Pt.Y))));\n\n   ----------\n   -- Fill --\n   ----------\n\n   overriding\n   procedure Fill\n     (Buffer : in out ST7735R_Bitmap_Buffer)\n   is\n   begin\n      --  Set the drawing area over the entire layer\n      Set_Address (Buffer.LCD.all,\n                   0, UInt16 (Buffer.Width - 1),\n                   0, UInt16 (Buffer.Height - 1));\n\n      --  Fill the drawing area with a single color\n      Write_Pix_Repeat (Buffer.LCD.all,\n                        UInt16 (Buffer.Native_Source and 16#FFFF#),\n                        Buffer.Width * Buffer.Height);\n   end Fill;\n\n   ---------------\n   -- Fill_Rect --\n   ---------------\n\n   overriding\n   procedure Fill_Rect\n     (Buffer : in out ST7735R_Bitmap_Buffer;\n      Area   : Rect)\n   is\n   begin\n      --  Set the drawing area coresponding to the rectangle to draw\n      Set_Address (Buffer.LCD.all,\n                   UInt16 (Area.Position.X),\n                   UInt16 (Area.Position.X + Area.Width - 1),\n                   UInt16 (Area.Position.Y),\n                   UInt16 (Area.Position.Y + Area.Height - 1));\n\n      --  Fill the drawing area with a single color\n      Write_Pix_Repeat (Buffer.LCD.all,\n                        UInt16 (Buffer.Native_Source and 16#FFFF#),\n                        Area.Width * Area.Height);\n   end Fill_Rect;\n\n   ------------------------\n   -- Draw_Vertical_Line --\n   ------------------------\n\n   overriding\n   procedure Draw_Vertical_Line\n     (Buffer : in out ST7735R_Bitmap_Buffer;\n      Pt     : Point;\n      Height : Integer)\n   is\n   begin\n      --  Set the drawing area coresponding to the line to draw\n      Set_Address (Buffer.LCD.all,\n                   UInt16 (Pt.X),\n                   UInt16 (Pt.X),\n                   UInt16 (Pt.Y),\n                   UInt16 (Pt.Y + Height - 1));\n\n      --  Fill the drawing area with a single color\n      Write_Pix_Repeat (Buffer.LCD.all,\n                        UInt16 (Buffer.Native_Source and 16#FFFF#),\n                        Height);\n   end Draw_Vertical_Line;\n\n   --------------------------\n   -- Draw_Horizontal_Line --\n   --------------------------\n\n   overriding\n   procedure Draw_Horizontal_Line\n     (Buffer : in out ST7735R_Bitmap_Buffer;\n      Pt     : Point;\n      Width  : Integer)\n   is\n   begin\n      --  Set the drawing area coresponding to the line to draw\n      Set_Address (Buffer.LCD.all,\n                   UInt16 (Pt.X),\n                   UInt16 (Pt.X + Width),\n                   UInt16 (Pt.Y),\n                   UInt16 (Pt.Y));\n\n      --  Fill the drawing area with a single color\n      Write_Pix_Repeat (Buffer.LCD.all,\n                        UInt16 (Buffer.Native_Source and 16#FFFF#),\n                        Width);\n   end Draw_Horizontal_Line;\n\nend ST7735R;\n"}
{"added":"2023-09-08T23:13:54.355Z","created":"2023-09-08T23:13:54.355Z","id":"577152","metadata":{"extension":"c","max_stars_count":"0.0","max_stars_repo_name":"ParaschivAlex/FMI-Thangs","max_stars_repo_path":"SO/Laboratorul_4/forkls.c","provenance":"train-00016-of-00053.jsonl.gz:1"},"source":"starcoder","text":"<reponame>ParaschivAlex/FMI-Thangs\n#include <stdio.h>\n#include <unistd.h>\n#include <sys/wait.h>\n#include <errno.h>\n\nint main()\n{\n\tpid_t child = fork();\n\tif (child == -1)\n\t\treturn errno;\n\tif(child != 0)\n\t\t{\n\t\t\tprintf(\"My PID = %d, Child = %d\\n\", getpid(), child);\n\t\t\twait(NULL);///parintele isi suspenda activitatea pt a astepta terminarea executiei fiului; daca sunt mai multi fii, wait asteapta doar unul\n\t\t\tprintf(\"Child \\t%d \\t\\n\", child);\n\t\t}\n\telse\n\t\t{\n\t\t\tchar *argv[] = {\"ls\", NULL};\n\t\t\tchar *envp[] = {NULL};\n\t\t\texecve (\"/bin/ls\", argv, envp);///executa un alt program existent si suprascrie complet procesul apelant cu un nou proces conform programului gasit la calea indicata\n\t\t}\n\r\n\treturn 0;\n}\n"}
{"added":"2023-09-08T23:13:54.355Z","created":"2023-09-08T23:13:54.355Z","id":"577153","metadata":{"extension":"c","max_stars_count":"1.0","max_stars_repo_name":"BeckResearchLab/odin","max_stars_repo_path":"software/NECESSARY LIBRARIES/libraries/WiFi/utility/server_drv.h","provenance":"train-00016-of-00053.jsonl.gz:2"},"source":"starcoder","text":"<reponame>BeckResearchLab/odin<filename>software/NECESSARY LIBRARIES/libraries/WiFi/utility/server_drv.h\n/*\n  server_drv.h - Library for Arduino Wifi shield.\n  Copyright (c) 2011-2014 Arduino.  All right reserved.\n\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation; either\n  version 2.1 of the License, or (at your option) any later version.\n\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n\n  You should have received a copy of the GNU Lesser General Public\n  License along with this library; if not, write to the Free Software\n  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n*/\n\n#ifndef Server_Drv_h\n#define Server_Drv_h\n\n#include <inttypes.h>\n#include \"wifi_spi.h\"\n\ntypedef enum eProtMode {TCP_MODE, UDP_MODE}tProtMode;\n\nclass ServerDrv\n{\npublic:\n\n    // Start server TCP on port specified\n    static void startServer(uint16_t port, uint8_t sock, uint8_t protMode=TCP_MODE);\n\n    static void startClient(uint32_t ipAddress, uint16_t port, uint8_t sock, uint8_t protMode=TCP_MODE);\n\n    static void stopClient(uint8_t sock);\n                                                                                  \n    static uint8_t getServerState(uint8_t sock);\n\n    static uint8_t getClientState(uint8_t sock);\n\n    static bool getData(uint8_t sock, uint8_t *data, uint8_t peek = 0);\n\n    static bool getDataBuf(uint8_t sock, uint8_t *data, uint16_t *len);\n\n    static bool insertDataBuf(uint8_t sock, const uint8_t *_data, uint16_t _dataLen);\n\n    static bool sendData(uint8_t sock, const uint8_t *data, uint16_t len);\n\n    static bool sendUdpData(uint8_t sock);\n\n    static uint16_t availData(uint8_t sock);\n\n    static uint8_t checkDataSent(uint8_t sock);\n};\n\nextern ServerDrv serverDrv;\n\n#endif\n"}
{"added":"2023-09-08T23:13:54.413Z","created":"2023-09-08T23:13:54.413Z","id":"5859481","metadata":{"extension":"git-commits-cleaned","provenance":"train-00030-of-00055.jsonl.gz:1"},"source":"starcoder","text":"<commit_before>'use strict';\n//Firebase URL\n//var fb = new Firebase('https://tic-tac-toe-app.firebaseio.com/');\nvar firstPlayer,\n    secondPlayer,\n    playerName,\n    win           = 0;\n\n\n//Set first play to X\nvar currentPlayer = \"X\";\n\n//Funcation that allows player one to go first with an X then player two is an O\nfunction changePlayer(){\n  if( currentPlayer  === \"X\" )\n      currentPlayer = \"O\";\n  else\n      currentPlayer = \"X\";\n}\n\n//Created an event listener on click of Table TD that appeneds first player(currentplayer)\n//an X then flips to an O on next players turn and unbide allows players to not click in an clciked area already.\n$('td').on('click', function(event){\n  $(this).append( currentPlayer );\n  $(this).unbind(\"click\");\n  changePlayer();\n  checkWinner();\n\n\n});\n\n\n//Create player 1 (x) and player 2 (o)\n$('#submit-player').on('click', function(event){\n  event.preventDefault();\n  playerName = $('.playerName').val();\n  assignPlayer();\n  console.log(firstPlayer);\n  console.log(secondPlayer);\n});\n\n//Function to check the status of firstPlayer & secondPlayer\nfunction assignPlayer() {\n  if (firstPlayer === undefined) {\n    firstPlayer = playerName;\n    } else {\n    secondPlayer = playerName;\n  };\n};\n\n//Scoring function that tracks the moves of players 1 & 2\n//function logVal() {\n  //if (($('#A1').text() === $('#A2').text() && $('#A1').text() === $('#A3').text())\n    //){\n    //alert('YOU WIN!');\n  //}\n//}\nvar a1; // cell 0 (left cell in top row)\nvar a2; // cell 1\nvar a3; // cell 2\nvar b1; // cell 3 (left cell in middle row)\nvar b2; // cell 4\nvar b3; // cell 5\nvar c1; // cell 6 (left cell in bottom row)\nvar c2; // cell 7\nvar c3; // cell 8\n\n\nfunction boardCheck() {\n    a1 = $('#A1').text();\n    a2 = $('#A2').text();\n    a3 = $('#A3').text();\n    b1 = $('#B1').text();\n    b2 = $('#B2').text();\n    b3 = $('#B3').text();\n    c1 = $('#C1').text();\n    c2 = $('#C2').text();\n    c3 = $('#C3').text();\n};\n\n\nfunction checkWinner(){\n  boardCheck();\n  // Checks to see if firstPlayer wins\n    if ((a1 == a2 && a1 == a3 && (a1 == firstPlayer)) || //first row\n    (b1 == b2 && b1 == b3 && (b1 == firstPlayer)) || //second row\n    (c1 == c2 && c1 == c3 && (c1 == firstPlayer)) || //third row\n    (a1 == b1 && a1 == c1 && (a1 == firstPlayer)) || //first column\n    (a2 == b2 && a2 == c2 && (a2 == firstPlayer)) || //second column\n    (a3 == b3 && a3 == c3 && (a3 == firstPlayer)) || //third column\n    (a1 == b2 && a1 == c3 && (a1 == firstPlayer)) || //diagonal 1\n    (a3 == b2 && a3 == c1 && (a3 == firstPlayer)) //diagonal 2\n    )\n      alert('YOU');\n  // Checks to see if secondPlayer wins\n    else if ((a1 == a2 && a1 == a3 && (a1 == secondPlayer)) || //first row\n    (b1 == b2 && b1 == b3 && (b1 == secondPlayer)) || //second row\n    (c1 == c2 && c1 == c3 && (c1 == secondPlayer)) || //third row\n    (a1 == b1 && a1 == c1 && (a1 == secondPlayer)) || //first column\n    (a2 == b2 && a2 == c2 && (a2 == secondPlayer)) || //second column\n    (a3 == b3 && a3 == c3 && (a3 == secondPlayer)) || //third column\n    (a1 == b2 && a1 == c3 && (a1 == secondPlayer)) || //diagonal 1\n    (a3 == b2 && a3 == c1 && (a3 == secondPlayer)) //diagonal 2\n    ){ p2Win = true;\n      $('.message').append($('<h1>BURRITOS FOR THE WIN!</h1>')); \n      //$('table').empty();\n      $('.title').hide();\n      $('.start').show(); }\n  }\n\n<commit_msg>added begining of working game logic<commit_after>'use strict';\n//Firebase URL\n//var fb = new Firebase('https://tic-tac-toe-app.firebaseio.com/');\nvar firstPlayer,\n    secondPlayer,\n    playerName,\n    win           = 0;\n\n\n//Set first play to X\nvar currentPlayer = \"X\";\n\n//Funcation that allows player one to go first with an X then player two is an O\nfunction changePlayer(){\n  if( currentPlayer  === \"X\" )\n      currentPlayer = \"O\";\n  else\n      currentPlayer = \"X\";\n}\n\n//Created an event listener on click of Table TD that appeneds first player(currentplayer)\n//an X then flips to an O on next players turn and unbide allows players to not click in an clciked area already.\n$('td').on('click', function(event){\n  $(this).append( currentPlayer );\n  $(this).unbind(\"click\");\n  logVal(currentPlayer);\n  changePlayer();\n\n\n\n});\n\n\n//Create player 1 (x) and player 2 (o)\n$('#submit-player').on('click', function(event){\n  event.preventDefault();\n  playerName = $('.playerName').val();\n  assignPlayer();\n  console.log(firstPlayer);\n  console.log(secondPlayer);\n});\n\n//Function to check the status of firstPlayer & secondPlayer\nfunction assignPlayer() {\n  if (firstPlayer === undefined) {\n    firstPlayer = playerName;\n    } else {\n    secondPlayer = playerName;\n  };\n};\n\n//Scoring function that tracks the moves of players 1 & 2\nfunction logVal(currentPlayer) {\n  if (($('#A1').text() === currentPlayer && $('#A2').text() === currentPlayer && $('#A3').text() === currentPlayer)\n    ){\n    alert('YOU WIN!');\n  }\n}\n\n"}
{"added":"2023-09-08T23:13:54.413Z","created":"2023-09-08T23:13:54.413Z","id":"5859482","metadata":{"extension":"git-commits-cleaned","provenance":"train-00030-of-00055.jsonl.gz:2"},"source":"starcoder","text":"<commit_before>(function($, storage){\n  'use strict';\n\n  // Panel model\n  var panel = panel || {};\n\n  // Select menu\n  var $select = $('[data-options]')[0];\n\n  // Current theme\n  panel.currentTheme = '';\n\n  // Default theme\n  panel.defaultTheme = 'Solarized Dark';\n\n  // Available themes\n  panel.themes = [\n    {\n      'name': '3024',\n      'colors': ['#F7F7F7', '#F0F0F0', '#807d7c', '#4a4543', '#a16a94', '#ed0c8c', '#01a252', '#db2d20', '#cdab53']\n    },\n    {\n      'name': 'Bongzilla',\n      'colors': ['#1F1F1F', '#262626', '#AEAEAE', '#F8F8F8', '#8DA6CE', '#FF593E', '#FF6400', '#7F90AA', '#78CE91', '#FFCC66']\n    },\n    {\n      'name': 'Clouds',\n      'colors': []\n    },\n    {\n      'name': 'Coda',\n      'colors': []\n    },\n    {\n      'name': 'CSSedit',\n      'colors': []\n    },\n    {\n      'name': 'Monokai',\n      'colors': []\n    },\n    {\n      'name': 'Nodejs',\n      'colors': []\n    },\n    {\n      'name': 'Solarized Dark',\n      'colors': []\n    },\n    {\n      'name': 'Solarized Light',\n      'colors': []\n    }\n  ];\n\n  // Build select menus like ngOptions\n  function _buildSelectMenu(menu, object){\n    var options, array;\n\n    // Get the data attribute value\n    options = menu.dataset.options;\n\n    // Clean string and create array\n    options = options.replace(/in\\s/g, '').split(' ');\n\n    // Assign array from object by property name\n    // using the value from the last item in options\n    array = object[options[options.length - 1]];\n\n    for (var j = 0; j < array.length; j++){\n\n      var option = document.createElement('option');\n\n      // Assign option value & text from array\n      option.value = array[j].name.replace(/\\s+/g, '-').toLowerCase();\n      option.text  = array[j].name;\n\n      // Select currentTheme option\n      if (object.currentTheme === array[j].name){\n        option.selected = 'selected';\n      }\n\n      menu.add(option, null);\n    }\n\n    return menu;\n  }\n\n  // Set & save theme based on select menu change event\n  function setTheme(event, obj){\n    function save(theme){\n      storage.set({ 'devtools-theme': theme.value },\n      function(){ panel.currentTheme = theme.text; });\n    }\n    if (event && event.type === 'change'){\n      var el     = event.target || event.srcElement;\n      var option = el.options[el.selectedIndex];\n      save(option);\n    } else if (event === null && obj){\n      save(obj);\n    }\n  }\n\n  // Object observer for current theme\n  function observer(changes){\n    changes.forEach(function(change){\n      if (change.name === 'currentTheme') {\n        $('#currentTheme')[0].innerHTML = change.object.currentTheme;\n      }\n    });\n  }\n\n  // Get theme from chrome sync\n  function getTheme(array, string){\n    if (!array || !string){\n      setTheme(null, {\n        value: panel.defaultTheme.replace(/\\s+/g, '-').toLowerCase(),\n        text: panel.defaultTheme\n      });\n      return panel.defaultTheme;\n    }\n    for (var i = 0; i < array.length; i++){\n      if (array[i].name.replace(/\\s+/g, '-').toLowerCase() === string){\n        return array[i].name;\n      }\n    }\n  }\n\n  // Initialize theme panel\n  function init(){\n    // Listen for changes to the select menu\n    $select.addEventListener('change', setTheme);\n\n    // Observe changes to panel model\n    Object.observe(panel, observer, ['add', 'update']);\n\n    // Get current theme from Chrome sync\n    storage.get('devtools-theme', function(object){\n\n      panel.currentTheme = getTheme(panel.themes, object['devtools-theme']);\n\n      // Build select menus\n      _buildSelectMenu($select, panel);\n    });\n  }\n  \n  init();\n})(\ndocument.querySelectorAll.bind(document),\nchrome.storage.sync\n);<commit_msg>Added panel functionality to persist font-sizes using chrome storage<commit_after>(function($, storage){\n  'use strict';\n\n  // Panel model\n  var panel = panel || {};\n\n  // Select menu\n  var $select = $('[data-options]')[0];\n\n  // Number input\n  var $number = $('input[type=number]')[0];\n\n  // Current theme\n  panel.currentTheme = '';\n\n  // Default theme\n  panel.defaultTheme = 'Solarized Dark';\n\n  // Default fontSize\n  panel.defaultFontSize = 14;\n\n  // Available themes\n  panel.themes = [\n    {\n      'name': '3024',\n      'colors': ['#F7F7F7', '#F0F0F0', '#807d7c', '#4a4543', '#a16a94', '#ed0c8c', '#01a252', '#db2d20', '#cdab53']\n    },\n    {\n      'name': 'Bongzilla',\n      'colors': ['#1F1F1F', '#262626', '#AEAEAE', '#F8F8F8', '#8DA6CE', '#FF593E', '#FF6400', '#7F90AA', '#78CE91', '#FFCC66']\n    },\n    {\n      'name': 'Clouds',\n      'colors': []\n    },\n    {\n      'name': 'Coda',\n      'colors': []\n    },\n    {\n      'name': 'CSSedit',\n      'colors': []\n    },\n    {\n      'name': 'Monokai',\n      'colors': []\n    },\n    {\n      'name': 'Nodejs',\n      'colors': []\n    },\n    {\n      'name': 'Solarized Dark',\n      'colors': []\n    },\n    {\n      'name': 'Solarized Light',\n      'colors': []\n    }\n  ];\n\n  // Build select menus like ngOptions\n  function _buildSelectMenu(menu, object){\n    var options, array;\n\n    // Get the data attribute value\n    options = menu.dataset.options;\n\n    // Clean string and create array\n    options = options.replace(/in\\s/g, '').split(' ');\n\n    // Assign array from object by property name\n    // using the value from the last item in options\n    array = object[options[options.length - 1]];\n\n    for (var j = 0; j < array.length; j++){\n\n      var option = document.createElement('option');\n\n      // Assign option value & text from array\n      option.value = array[j].name.replace(/\\s+/g, '-').toLowerCase();\n      option.text  = array[j].name;\n\n      // Select currentTheme option\n      if (object.currentTheme === array[j].name){\n        option.selected = 'selected';\n      }\n\n      menu.add(option, null);\n    }\n\n    return menu;\n  }\n\n  // Set & save theme based on select menu change event\n  function setTheme(event, obj){\n    function save(theme){\n      storage.set({ 'devtools-theme': theme.value },\n      function(){ panel.currentTheme = theme.text; });\n    }\n    if (event && event.type === 'change'){\n      var el     = event.target || event.srcElement;\n      var option = el.options[el.selectedIndex];\n      save(option);\n    } else if (event === null && obj){\n      save(obj);\n    }\n  }\n\n  // Set & save font size based on input menu change event\n  function setFontSize(event, value){\n    function save(fontSize){\n      storage.set({ 'devtools-fontSize': fontSize },\n      function(){ panel.currentFontSize = fontSize; });\n    }\n    if (event && event.type === 'change'){\n      var el     = event.target || event.srcElement;\n      save(el.value);\n    } else if (event === null && value){\n      save(value);\n    }\n  }\n\n  // Object observer for current theme\n  function observer(changes){\n    changes.forEach(function(change){\n      if (change.name === 'currentTheme') {\n        $('#currentTheme')[0].innerHTML = change.object.currentTheme;\n      } else if (change.name === 'currentFontSize') {\n        $number.value = change.object.currentFontSize;\n      }\n    });\n  }\n\n  // Get fontSize from chrome sync\n  function getFontSize(value){\n    if (!value){\n      setFontSize(null, panel.defaultFontSize);\n      return panel.defaultFontSize;\n    } else {\n      return value;\n    }\n  }\n\n  // Get theme from chrome sync\n  function getTheme(array, string){\n    if (!array || !string){\n      setTheme(null, {\n        value: panel.defaultTheme.replace(/\\s+/g, '-').toLowerCase(),\n        text: panel.defaultTheme\n      });\n      return panel.defaultTheme;\n    }\n    for (var i = 0; i < array.length; i++){\n      if (array[i].name.replace(/\\s+/g, '-').toLowerCase() === string){\n        return array[i].name;\n      }\n    }\n  }\n\n  // Initialize theme panel\n  function init(){\n    // Listen for changes to the select menu\n    $select.addEventListener('change', setTheme);\n    \n    // Listen for changes to the select menu\n    $number.addEventListener('change', setFontSize);\n\n    // Observe changes to panel model\n    Object.observe(panel, observer, ['add', 'update']);\n\n    // Get current theme from Chrome sync\n    storage.get('devtools-theme', function(object){\n\n      panel.currentTheme = getTheme(panel.themes, object['devtools-theme']);\n\n      // Build select menus\n      _buildSelectMenu($select, panel);\n    });\n\n    // Get current fontSize from Chrome sync\n    storage.get('devtools-fontSize', function(object){\n      panel.currentFontSize = getFontSize(object['devtools-fontSize']);\n    });\n  }\n  \n  init();\n})(\ndocument.querySelectorAll.bind(document),\nchrome.storage.sync\n);"}
{"added":"2023-09-08T23:13:54.410Z","created":"2023-09-08T23:13:54.410Z","id":"28423525","metadata":{"extension":"github-issues-filtered-structured","provenance":"train-00048-of-00059.jsonl.gz:1"},"source":"starcoder","text":"<issue_start><issue_comment>Title: Could issue #4407 receive a status update for documentation purposes?\nusername_0: Perhaps I'm blind, but I've been searching around a lot and I couldn't find out how #4407 has been resolved eventually. Since such issues serve as documentation themselves (it's the best resource Google has returned for me), it would nice to post a short status update / link to a solution.<issue_closed>\n<issue_comment>username_1: Because of how v4 and beyond has been architected, this isn't really possible by the library anymore. Nor is it how much of the React ecosystem has moved (see SWR). So, plans changed and there is no plan to make that demo anymore.\n<issue_comment>username_0: :+1: thanks for the clarification! I'll have to think about the implications...\r\n\r\nWould it be possible to post that short info on the issue? I spend 2 hours re-reading the issue comments, reading the docs, git grepping the repo, reading source code, cross checking with dozen of (outdated) SO questions, because the way the issue reads it clearly sounded like there must be a solution by now and I'm missing it. Handling async route switching seems to be an obvious problem, so I'm most likely not the last person confused by the lack of documentation / status update. Unfortunately due to the way the locking works, it doesn't even link your clarifying post there :disappointed: ."}
{"added":"2023-09-08T23:13:54.410Z","created":"2023-09-08T23:13:54.410Z","id":"28423526","metadata":{"extension":"github-issues-filtered-structured","provenance":"train-00048-of-00059.jsonl.gz:2"},"source":"starcoder","text":"<issue_start><issue_comment>Title: Problem with migrating repositories containing LFS objects\nusername_0: <!-- NOTE: If your issue is a security concern, please send an email to <EMAIL> instead of opening a public issue -->\r\n\r\n<!--\r\n    1. Please speak English, this is the language all maintainers can speak and write.\r\n    2. Please ask questions or configuration/deploy problems on our Discord\r\n       server (https://discord.gg/gitea) or forum (https://discourse.gitea.io).\r\n    3. Please take a moment to check that your issue doesn't already exist.\r\n    4. Make sure it's not mentioned in the FAQ (https://docs.gitea.io/en-us/faq)\r\n    5. Please give all relevant information below for bug reports, because\r\n       incomplete details will be handled as an invalid report.\r\n-->\r\n\r\n- Gitea version (or commit ref): 1.13.1\r\n- Git version: 2.20.1\r\n- Operating system: Raspbian 10 (Buster)\r\n  <!-- Please include information on whether you built gitea yourself, used one of our downloads or are using some other package -->\r\nI'm using the binary from https://dl.gitea.io/gitea.\r\n  <!-- Please also tell us how you are running gitea, e.g. if it is being run from docker, a command-line, systemd etc. --->\r\n  <!-- If you are using a package or systemd tell us what distribution you are using -->\r\n- Database (use `[x]`):\r\n  - [ ] PostgreSQL\r\n  - [x] MySQL\r\n  - [ ] MSSQL\r\n  - [ ] SQLite\r\n- Can you reproduce the bug at https://try.gitea.io:\r\n  - [ ] Yes (provide example URL)\r\n  - [ ] No\r\n- Log gist:\r\n<!-- It really is important to provide pertinent logs -->\r\n<!-- Please read https://docs.gitea.io/en-us/logging-configuration/#debugging-problems -->\r\n<!-- In addition, if your problem relates to git commands set `RUN_MODE=dev` at the top of app.ini -->\r\n\r\n## Description\r\n<!-- If using a proxy or a CDN (e.g. CloudFlare) in front of gitea, please\r\n     disable the proxy/CDN fully and connect to gitea directly to confirm\r\n     the issue still persists without those services. -->\r\n\r\nI have some problems while migrating an existing Gitea instance to a new hardware, especially with repositories containg LFS objects. On the old system, I could see the images in the UI - after the migration, I only see this:\r\n```\r\nversion https://git-lfs.github.com/spec/v1\r\noid sha256:be0a076d8463d95cca1c57863af10d813cf44a8f63d9de20256227010c06c587\r\nsize 608901\r\n```\r\nWhat can I do?\r\n\r\n## Screenshots\r\n\r\n<!-- **If this issue involves the Web Interface, please include a screenshot** -->\n<issue_comment>username_1: We cannot currently migrate the lfs assets for you automatically - you will have to do a git lfs fetch --all on a local checkout and then git lfs push --all back up to the gitea server.\r\n\r\nThere is a WIP PR looking at attempting to get automatic LFS migration in to gitea but it is not an easy feat.\n<issue_comment>username_1: Duplicated with #9939<issue_closed>"}
